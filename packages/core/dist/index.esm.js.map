{"version":3,"file":"index.esm.js","sources":["../src/utils/imgUtils.js","../src/utils/resize.js","../src/utils/textUtils.js","../src/core/drawPoster.js","../src/core/index.js","../src/index.js"],"sourcesContent":["// 加载图片\nexport function loadImage(src) {\n  const img = new Image();\n  img.crossOrigin = 'anonymous';\n  return new Promise((resolve, reject) => {\n    img.onload = () => {\n      resolve(img)\n    }\n    img.onerror = () => {\n      reject(`获取${src}失败`)\n    }\n    img.src = src;\n  });\n}\n\n// 获取图片像素\nexport function getImageData(img, rect = [0, 0, img.width, img.height]) {\n  const canvas = document.createElement('canvas')\n  canvas.width = img.width\n  canvas.height = img.height\n  const context = canvas.getContext('2d')\n  context.drawImage(img, 0, 0)\n  return context.getImageData(...rect)\n}","// 将图片处理成固定大小，并添加\nfunction drawImageProp(ctx, img, x = 0, y = 0, w = ctx.canvas.width, h = ctx.canvas.height) {\n  if (offsetX < 0) offsetX = 0\n  if (offsetY < 0) offsetY = 0\n  if (offsetX > 1) offsetX = 1\n  if (offsetY > 1) offsetY = 1\n\n  const iw = img.width\n  const ih = img.height\n  \n  // 将要渲染的内容区域缩放，并使图片居中\n  const r = Math.min(iw / w, ih / h)\n\n  const cw = r * w\n  const ch = r * h\n\n  cx = (iw - cw) * 0.5 // 宽度差的一半作为起始横坐标\n  cy = (ih - ch) * 0.5 // 高度差的一半作为起始纵坐标\n\n  ctx.drawImage(img, cx, cy, cw, ch,  x, y, w, h)\n}\n\nexport default function resizeImage(img, w, h, radius) {\n  return new Promise((resolve, reject) => {\n    const canvas  = document.createElement('canvas')\n    canvas.width = w\n    canvas.height = h\n    const ctx = canvas.getContext('2d')\n\n    // 获取四个角的圆角半径\n    const radiusArr = radius ? radius.split(\" \").map(num => Number(num)): []\n    let topLeftRadius = 0, topRightRadius = 0, bottomRightRadius = 0, bottomLeftRadius = 0\n    if(radiusArr.length === 1) {\n      topLeftRadius = topRightRadius = bottomRightRadius = bottomLeftRadius = radiusArr[0]\n    }\n    if(radiusArr.length === 2) {\n      topLeftRadius = bottomRightRadius = radiusArr[0]\n      topRightRadius = bottomLeftRadius = radiusArr[1]\n    }\n    if(radiusArr.length === 3) {\n      topLeftRadius = radiusArr[0]\n      bottomRightRadius = radiusArr[2]\n      topRightRadius = bottomLeftRadius = radiusArr[1]\n    }\n    if(radiusArr.length === 4) {\n      topLeftRadius = radiusArr[0]\n      topRightRadius = radiusArr[1]\n      bottomRightRadius = radiusArr[2]\n      bottomLeftRadius = radiusArr[3]\n    }\n    \n    // 绘制圆角矩形\n    ctx.beginPath();\n    ctx.moveTo(topLeftRadius, 0)\n    ctx.lineTo(w - topRightRadius, 0)\n    if(topRightRadius) {\n      ctx.arcTo(w, 0, w, topRightRadius, topRightRadius)\n    }\n    ctx.lineTo(w, h - bottomRightRadius)\n    if(bottomRightRadius) {\n      ctx.arcTo(w, h, w - bottomRightRadius, h, bottomRightRadius)\n    }\n    ctx.lineTo(bottomLeftRadius, h)\n    if(bottomLeftRadius) {\n      ctx.arcTo(0, h, 0, h - bottomLeftRadius, bottomLeftRadius)\n    }\n    ctx.lineTo(0, topLeftRadius)\n    if(topLeftRadius) {\n      ctx.arcTo(0, 0, topLeftRadius, 0, topLeftRadius)\n    }\n    ctx.closePath()\n    ctx.clip() // 绘制完裁剪\n\n    if(typeof img === 'string') {\n      ctx.fillStyle = img || '#ffffff'\n      ctx.rect(0, 0, w, h)\n      ctx.fill()\n    } else if(img instanceof Image) {\n      drawImageProp(ctx, img, 0, 0, w, h, 0.5, 0.5)\n    }\n    const imgData = canvas.toDataURL( 'image/png', 1 )\n    resolve(imgData)\n  })\n}\n\n","/**\n * 处理canvas文字绘制\n * @param {string} text - 渲染的文字\n * @param {number} x - canvas的x坐标\n * @param {number} y - canvas的y坐标\n * @param {number} maxWidth - 文字框最大宽度\n * @param {number} lineHeight - 文字行高\n * @param {number} maxLines - 最大行数，超出则省略\n */\n\nexport function contextWrapText() {\n  CanvasRenderingContext2D.prototype.wrapText = function (text, x, y, maxWidth, lineHeight, maxLines) {\n    if (typeof text != 'string' || typeof x != 'number' || typeof y != 'number') {\n        return\n    }\n    \n    let context = this\n    let canvas = context.canvas\n    \n    if (typeof maxWidth == 'undefined') {\n        maxWidth = (canvas && canvas.width) || 300\n    }\n    if (typeof lineHeight == 'undefined') {\n        lineHeight = (canvas && parseInt(window.getComputedStyle(canvas).lineHeight)) || parseInt(window.getComputedStyle(document.body).lineHeight)\n    }\n    \n    // 字符分隔为数组\n    let arrText = Array.from(text)\n    \n    let line = '', lineNumber = 0\n    \n    for (let n = 0; n < arrText.length; n++) {\n      let testLine = line + arrText[n]\n      let metrics = context.measureText(testLine)\n      let testWidth = metrics.width\n      // 检查拼接的line字符串是否超出了最大长度，超出则渲染出来，然后继续下一行\n      if (testWidth > maxWidth && n > 0) {\n        lineNumber ++\n        // 如果行数超过了限制行数，则终止下面的渲染，然后在最后拼接...\n        if(lineNumber >= maxLines && maxLines) {\n          context.fillText(line.substring(0, line.length - 1) + '...', x, y)\n          line = ''\n          break\n        } else {\n          context.fillText(line, x, y)\n          line = arrText[n]\n          y += lineHeight\n        }\n      } else {\n          line = testLine\n      }\n    }\n    context.fillText(line, x, y)\n    return {\n      lineNumber\n    }\n  }\n}","/**\n * drawPoster 类\n */\n\nimport { loadImage, getImageData } from '../utils/imgUtils'\nimport resizeImage from '../utils/resize'\nimport { contextWrapText } from '../utils/textUtils'\n\nclass DrawPoster {\n  constructor(ctx, options = {}) {\n    if(!ctx) {\n      throw new Error('Canvas context is required!')\n    }\n    const { ratio } = options\n    this.ratio = ratio\n    this.ctx = ctx\n\n    // 引入文字处理函数，挂在context下面\n    contextWrapText()\n  }\n}\n\n/**\n * 加载图片并返回Image对象\n * @param {String} src - 图片路径\n */\nDrawPoster.prototype.loadImage = async function(src) {\n  if(!src || typeof src !== 'string') {\n    throw new Error('Image url is required and must be a string!')\n    return \n  }\n  const img = await loadImage(src)\n  return img\n}\n\n/**\n * 获取图片像素\n * @param {Image} img - 图片\n * @param {Array} rect - 像素获取范围\n */\nDrawPoster.prototype.getImageData = async function(img, rect = [0, 0, img.width, img.height]) {\n  if(!img) {\n    throw new Error('Image is required!')\n    return \n  }\n  if(!(img instanceof Image)) {\n    throw new Error('Image type error!')\n    return \n  }\n  return getImageData(img, rect)\n}\n\n/**\n * 裁剪图片\n * @param {Image} img - 图片\n * @param {Number} w - 新图片宽度\n * @param {Number} h - 新图片高度\n * @param {String} radius - 新图片圆角\n */\nDrawPoster.prototype.resizeImage = async function(img, w, h, radius) {\n  if(!img) {\n    throw new Error('Image is required!')\n    return \n  }\n\n  w = w * this.ratio\n  h = h * this.ratio\n  radius = radius.split(\" \").map(num => Number(num) * this.ratio).join(\" \")\n\n  const imgData = await resizeImage(img, w, h, radius)\n  return imgData\n}\n\n/**\n * 渲染文字\n * @param {string} text - 渲染的文字\n * @param {number} x - canvas的x坐标\n * @param {number} y - canvas的y坐标\n * @param {number} maxWidth - 文字框最大宽度\n * @param {number} lineHeight - 文字行高\n * @param {number} maxLines - 最大行数，超出则省略\n */\nDrawPoster.prototype.wrapText = function(text, x, y, maxWidth, lineHeight, maxLines) {\n  const { lineNumber } = this.ctx.wrapText(text, x, y, maxWidth, lineHeight, maxLines)\n  // 返回文字渲染的行数\n  return { lineNumber }\n}\n\nexport default DrawPoster","import DrawPoster from './drawPoster'\n\n/**\n * 实例化DrawPoster类并返回\n * @param {Object} ctx  - canvas context\n * @param {Number} ratio - 海报像素缩放比例\n */\nexport const createDrawPoster = (ctx, { ratio = 1 }) => {\n  const drawPoster = new DrawPoster(ctx, { ratio })\n  return drawPoster\n}","import { createDrawPoster } from './core'\n\n/**\n * 获取drawPoster对象\n * @param {Object} ctx  - canvas context\n * @param {Number} ratio - 海报像素缩放比例\n */\nexport default function(ctx, options = {}) {\n  const drawPoster = createDrawPoster(ctx, options)\n  return drawPoster\n}"],"names":[],"mappings":"AAAA;AACO,SAAS,SAAS,CAAC,GAAG,EAAE;AAC/B,EAAE,MAAM,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;AAC1B,EAAE,GAAG,CAAC,WAAW,GAAG,WAAW,CAAC;AAChC,EAAE,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;AAC1C,IAAI,GAAG,CAAC,MAAM,GAAG,MAAM;AACvB,MAAM,OAAO,CAAC,GAAG,EAAC;AAClB,MAAK;AACL,IAAI,GAAG,CAAC,OAAO,GAAG,MAAM;AACxB,MAAM,MAAM,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,EAAC;AAC1B,MAAK;AACL,IAAI,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;AAClB,GAAG,CAAC,CAAC;AACL,CAAC;AACD;AACA;AACO,SAAS,YAAY,CAAC,GAAG,EAAE,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE;AACxE,EAAE,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,EAAC;AACjD,EAAE,MAAM,CAAC,KAAK,GAAG,GAAG,CAAC,MAAK;AAC1B,EAAE,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC,OAAM;AAC5B,EAAE,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,EAAC;AACzC,EAAE,OAAO,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAC;AAC9B,EAAE,OAAO,OAAO,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;AACtC;;ACvBA;AACA,SAAS,aAAa,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE;AAC5F,EAAE,IAAI,OAAO,GAAG,CAAC,EAAE,OAAO,GAAG,EAAC;AAC9B,EAAE,IAAI,OAAO,GAAG,CAAC,EAAE,OAAO,GAAG,EAAC;AAC9B,EAAE,IAAI,OAAO,GAAG,CAAC,EAAE,OAAO,GAAG,EAAC;AAC9B,EAAE,IAAI,OAAO,GAAG,CAAC,EAAE,OAAO,GAAG,EAAC;AAC9B;AACA,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC,MAAK;AACtB,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC,OAAM;AACvB;AACA;AACA,EAAE,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,EAAC;AACpC;AACA,EAAE,MAAM,EAAE,GAAG,CAAC,GAAG,EAAC;AAClB,EAAE,MAAM,EAAE,GAAG,CAAC,GAAG,EAAC;AAClB;AACA,EAAE,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,IAAI,IAAG;AACtB,EAAE,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,IAAI,IAAG;AACtB;AACA,EAAE,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;AACjD,CAAC;AACD;AACe,SAAS,WAAW,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE;AACvD,EAAE,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;AAC1C,IAAI,MAAM,MAAM,IAAI,QAAQ,CAAC,aAAa,CAAC,QAAQ,EAAC;AACpD,IAAI,MAAM,CAAC,KAAK,GAAG,EAAC;AACpB,IAAI,MAAM,CAAC,MAAM,GAAG,EAAC;AACrB,IAAI,MAAM,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,EAAC;AACvC;AACA;AACA,IAAI,MAAM,SAAS,GAAG,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,GAAE;AAC5E,IAAI,IAAI,aAAa,GAAG,CAAC,EAAE,cAAc,GAAG,CAAC,EAAE,iBAAiB,GAAG,CAAC,EAAE,gBAAgB,GAAG,EAAC;AAC1F,IAAI,GAAG,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;AAC/B,MAAM,aAAa,GAAG,cAAc,GAAG,iBAAiB,GAAG,gBAAgB,GAAG,SAAS,CAAC,CAAC,EAAC;AAC1F,KAAK;AACL,IAAI,GAAG,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;AAC/B,MAAM,aAAa,GAAG,iBAAiB,GAAG,SAAS,CAAC,CAAC,EAAC;AACtD,MAAM,cAAc,GAAG,gBAAgB,GAAG,SAAS,CAAC,CAAC,EAAC;AACtD,KAAK;AACL,IAAI,GAAG,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;AAC/B,MAAM,aAAa,GAAG,SAAS,CAAC,CAAC,EAAC;AAClC,MAAM,iBAAiB,GAAG,SAAS,CAAC,CAAC,EAAC;AACtC,MAAM,cAAc,GAAG,gBAAgB,GAAG,SAAS,CAAC,CAAC,EAAC;AACtD,KAAK;AACL,IAAI,GAAG,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;AAC/B,MAAM,aAAa,GAAG,SAAS,CAAC,CAAC,EAAC;AAClC,MAAM,cAAc,GAAG,SAAS,CAAC,CAAC,EAAC;AACnC,MAAM,iBAAiB,GAAG,SAAS,CAAC,CAAC,EAAC;AACtC,MAAM,gBAAgB,GAAG,SAAS,CAAC,CAAC,EAAC;AACrC,KAAK;AACL;AACA;AACA,IAAI,GAAG,CAAC,SAAS,EAAE,CAAC;AACpB,IAAI,GAAG,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,EAAC;AAChC,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,cAAc,EAAE,CAAC,EAAC;AACrC,IAAI,GAAG,cAAc,EAAE;AACvB,MAAM,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,cAAc,EAAE,cAAc,EAAC;AACxD,KAAK;AACL,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,GAAG,iBAAiB,EAAC;AACxC,IAAI,GAAG,iBAAiB,EAAE;AAC1B,MAAM,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,iBAAiB,EAAE,CAAC,EAAE,iBAAiB,EAAC;AAClE,KAAK;AACL,IAAI,GAAG,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,EAAC;AACnC,IAAI,GAAG,gBAAgB,EAAE;AACzB,MAAM,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,gBAAgB,EAAE,gBAAgB,EAAC;AAChE,KAAK;AACL,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,aAAa,EAAC;AAChC,IAAI,GAAG,aAAa,EAAE;AACtB,MAAM,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,aAAa,EAAE,CAAC,EAAE,aAAa,EAAC;AACtD,KAAK;AACL,IAAI,GAAG,CAAC,SAAS,GAAE;AACnB,IAAI,GAAG,CAAC,IAAI,GAAE;AACd;AACA,IAAI,GAAG,OAAO,GAAG,KAAK,QAAQ,EAAE;AAChC,MAAM,GAAG,CAAC,SAAS,GAAG,GAAG,IAAI,UAAS;AACtC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;AAC1B,MAAM,GAAG,CAAC,IAAI,GAAE;AAChB,KAAK,MAAM,GAAG,GAAG,YAAY,KAAK,EAAE;AACpC,MAAM,aAAa,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAW,EAAC;AACnD,KAAK;AACL,IAAI,MAAM,OAAO,GAAG,MAAM,CAAC,SAAS,EAAE,WAAW,EAAE,CAAC,GAAE;AACtD,IAAI,OAAO,CAAC,OAAO,EAAC;AACpB,GAAG,CAAC;AACJ;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,eAAe,GAAG;AAClC,EAAE,wBAAwB,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE;AACtG,IAAI,IAAI,OAAO,IAAI,IAAI,QAAQ,IAAI,OAAO,CAAC,IAAI,QAAQ,IAAI,OAAO,CAAC,IAAI,QAAQ,EAAE;AACjF,QAAQ,MAAM;AACd,KAAK;AACL;AACA,IAAI,IAAI,OAAO,GAAG,KAAI;AACtB,IAAI,IAAI,MAAM,GAAG,OAAO,CAAC,OAAM;AAC/B;AACA,IAAI,IAAI,OAAO,QAAQ,IAAI,WAAW,EAAE;AACxC,QAAQ,QAAQ,GAAG,CAAC,MAAM,IAAI,MAAM,CAAC,KAAK,KAAK,IAAG;AAClD,KAAK;AACL,IAAI,IAAI,OAAO,UAAU,IAAI,WAAW,EAAE;AAC1C,QAAQ,UAAU,GAAG,CAAC,MAAM,IAAI,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,KAAK,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,UAAU,EAAC;AACpJ,KAAK;AACL;AACA;AACA,IAAI,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,EAAC;AAClC;AACA,IAAI,IAAI,IAAI,GAAG,EAAE,EAAE,UAAU,GAAG,EAAC;AACjC;AACA,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC7C,MAAM,IAAI,QAAQ,GAAG,IAAI,GAAG,OAAO,CAAC,CAAC,EAAC;AACtC,MAAM,IAAI,OAAO,GAAG,OAAO,CAAC,WAAW,CAAC,QAAQ,EAAC;AACjD,MAAM,IAAI,SAAS,GAAG,OAAO,CAAC,MAAK;AACnC;AACA,MAAM,IAAI,SAAS,GAAG,QAAQ,IAAI,CAAC,GAAG,CAAC,EAAE;AACzC,QAAQ,UAAU,IAAG;AACrB;AACA,QAAQ,GAAG,UAAU,IAAI,QAAQ,IAAI,QAAQ,EAAE;AAC/C,UAAU,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,CAAC,EAAC;AAC5E,UAAU,IAAI,GAAG,GAAE;AACnB,UAAU,KAAK;AACf,SAAS,MAAM;AACf,UAAU,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAC;AACtC,UAAU,IAAI,GAAG,OAAO,CAAC,CAAC,EAAC;AAC3B,UAAU,CAAC,IAAI,WAAU;AACzB,SAAS;AACT,OAAO,MAAM;AACb,UAAU,IAAI,GAAG,SAAQ;AACzB,OAAO;AACP,KAAK;AACL,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAC;AAChC,IAAI,OAAO;AACX,MAAM,UAAU;AAChB,KAAK;AACL,IAAG;AACH;;ACzDA;AACA;AACA;AAKA;AACA,MAAM,UAAU,CAAC;AACjB,EAAE,WAAW,CAAC,GAAG,EAAE,OAAO,GAAG,EAAE,EAAE;AACjC,IAAI,GAAG,CAAC,GAAG,EAAE;AACb,MAAM,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC;AACpD,KAAK;AACL,IAAI,MAAM,EAAE,KAAK,EAAE,GAAG,QAAO;AAC7B,IAAI,IAAI,CAAC,KAAK,GAAG,MAAK;AACtB,IAAI,IAAI,CAAC,GAAG,GAAG,IAAG;AAClB;AACA;AACA,IAAI,eAAe,GAAE;AACrB,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,eAAe,GAAG,EAAE;AACrD,EAAE,GAAG,CAAC,GAAG,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;AACtC,IAAI,MAAM,IAAI,KAAK,CAAC,6CAA6C,CAAC;AAElE,GAAG;AACH,EAAE,MAAM,GAAG,GAAG,MAAM,SAAS,CAAC,GAAG,EAAC;AAClC,EAAE,OAAO,GAAG;AACZ,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,CAAC,SAAS,CAAC,YAAY,GAAG,eAAe,GAAG,EAAE,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE;AAC9F,EAAE,GAAG,CAAC,GAAG,EAAE;AACX,IAAI,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC;AAEzC,GAAG;AACH,EAAE,GAAG,EAAE,GAAG,YAAY,KAAK,CAAC,EAAE;AAC9B,IAAI,MAAM,IAAI,KAAK,CAAC,mBAAmB,CAAC;AAExC,GAAG;AACH,EAAE,OAAO,YAAY,CAAC,GAAG,EAAE,IAAI,CAAC;AAChC,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,eAAe,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE;AACrE,EAAE,GAAG,CAAC,GAAG,EAAE;AACX,IAAI,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC;AAEzC,GAAG;AACH;AACA,EAAE,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,MAAK;AACpB,EAAE,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,MAAK;AACpB,EAAE,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,EAAC;AAC3E;AACA,EAAE,MAAM,OAAO,GAAG,MAAM,WAAW,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAC;AACtD,EAAE,OAAO,OAAO;AAChB,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,CAAC,SAAS,CAAC,QAAQ,GAAG,SAAS,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE;AACrF,EAAE,MAAM,EAAE,UAAU,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAC;AACtF;AACA,EAAE,OAAO,EAAE,UAAU,EAAE;AACvB;;ACpFA;AACA;AACA;AACA;AACA;AACO,MAAM,gBAAgB,GAAG,CAAC,GAAG,EAAE,EAAE,KAAK,GAAG,CAAC,EAAE,KAAK;AACxD,EAAE,MAAM,UAAU,GAAG,IAAI,UAAU,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,EAAC;AACnD,EAAE,OAAO,UAAU;AACnB;;ACRA;AACA;AACA;AACA;AACA;AACe,cAAQ,CAAC,GAAG,EAAE,OAAO,GAAG,EAAE,EAAE;AAC3C,EAAE,MAAM,UAAU,GAAG,gBAAgB,CAAC,GAAG,EAAE,OAAO,EAAC;AACnD,EAAE,OAAO,UAAU;AACnB;;;;"}